{"store-custom/components/products/product-script-bak":"\r\n<!-- Option Tweak -->\r\n<script src=\"{{cdn 'assets/jquery.min.js'}}\"></script>\r\n<script>\r\n\r\n    $(document).ready(function(){\r\n\t\r\n\t\r\n\t\r\n\r\n\r\n\t\r\n\t\r\n        var _cushionOption = \"\";\r\n        var _cushionFabrics = \"\";\r\n        var _itemColor = \"\";\r\n        var _dataColor =\"\";\r\n        var _dataFabric =\"\";\r\n        var _defaultColor = \"\";\r\n        var _defaultFabric = \"\";\r\n\t\tvar solidColor;\r\n        var _topMargin;\r\n        var interval;\r\n        var counter;\r\n\t\tvar frameClone = \"\";\r\n\t\tvar _cushionData = [\"Quick Ship Cushion\",\"Yes\"];\r\n\t\t_cushionData[\"Quick Ship Cushion\"] = [\"Spectrum Indigo\",\"Spectrum Sand\",\"Granite\",\"Cast charcoal\",\"Spa\",\"Natural\",\"Cast lagoon\",\"Regatta\"];\r\n\t\t_cushionData[\"Yes\"] = [\"No Cushion Fabric\",\"Cast charcoal\"];\r\n\t\t\r\n\r\n\t\tfunction incaseInArray(val, arr){\r\n\t\t\tvar _returnValue = false;\r\n\t\t\tif(arr.length){\r\n\t\t\t\tfor(var i=0; arr.length > i; i++ ){\r\n\t\t\t\t\tif(val.toLowerCase() == arr[i].toLowerCase()){\r\n\t\t\t\t\t\t_returnValue = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn _returnValue;\r\n\t\t}\r\n\r\n\r\n\r\n        function imgSelector(_color,_fabric){\r\n            clearInterval(interval);\r\n            counter = 0;\r\n            interval  = setInterval(function() {\r\n                counter++;\r\n                ( $('.productView-thumbnails img[alt*=\"'+_color+' '+_fabric+'\"]').length > 0 ) ?  $('.productView-thumbnails img[alt*=\"'+_color+' '+_fabric+'\"]').trigger( \"click\" ) :  $('.productView-thumbnails img[alt*=\"'+_color+' '+_defaultFabric+'\"]').trigger( \"click\" ) ;\r\n                if (counter == 200) { clearInterval(interval); }\r\n            }, 10);\r\n            \r\n        }\r\n\t\t// framce Color Selector\r\n\t\tif($(this).contents().find('.form-field .form-label:contains(\"Frame Color\")').length > 0){\r\n           _itemColor = $(this).contents().find('.form-field .form-label:contains(\"Frame Color\")'); \r\n           _itemColor.parent('.form-field').find('select').bind(\"change\",function(){\r\n               _dataColor = $(this).find(\":selected\").text();\r\n               imgSelector( _dataColor , _dataFabric );\r\n\t\t\t   \r\n\t\t\t  if  ( $(\".cushion select\").find(\":selected\").text().toLowerCase() != \"yes\"){\r\n\t\t\t   $(\".cushion option\").each(function () {\r\n\t\t\t\t\tif ($(this).html().toLowerCase() == \"no\") {\r\n\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\tif  ($(\".fabrics select\").find(\":selected\").text().toLowerCase() == \"view options\"){\r\n\t\t\t\t\t\t$(\".fabrics option\").each(function () {\r\n\t\t\t\t\t\t\tif ($(this).html().toLowerCase() == \"none\") {\r\n\t\t\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif ($(this).html().toLowerCase() == \"none\") {\r\n\t\t\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$(\".framecolor option\").each(function () {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t$(this).removeAttr('selected');\r\n\t\t\t\t\t\t\t});\t  \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar color2 = $(\".framecolor select\").find(\":selected\").text();\r\n\t\t\t\t\t\t\t$('.productView-img-container img').on('load', function () {\r\n\t\t\t\t\t\t\t$(\".framecolor option\").each(function () {\r\n\t\t\t\t\t\t\t\tif ($(this).html() == color2) {\r\n\t\t\t\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\t\t\t\t$(this).attr(\"selected\", \"selected\");\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tframeClone = $(\".framecolor .framecolor\").clone();\r\n\t\t\t\t\t\t\t\t$(\".test-fab-img\").remove();\r\n\t\t\t\t\t\t\t});\t\r\n\t\t\t\t\t\tif ( $(\".framecolor select\").prop('selectedIndex') < 1 ) {\r\n\t\t\t\tif (splitoption.length > 1) {\r\n\t\t\t\r\n\t\t\t\taddcost = Math.abs(splitoption[1].replace(\"$\",\"\"));\r\n\t\t\t\tnewprice = \"$\" + (defprice + addcost ) + \".00\";\r\n\t\t\t\tnewsavelabel = \"$\" + (defsave - addcost ) + \".00\";\r\n\t\t\t\tsetTimeout(\r\n\t\t\t\t  function() \r\n\t\t\t\t  {\r\n\t\t\t\t$(\".productView-price .save-label .price--saving\").text(newsavelabel);\t\r\n\t\t\t\t$(\"#defprice\").text(newprice);\r\n\t\t\t\t\r\n\t\t\t\t}, 2000);\r\n\t\t\t\t//$(\".saveover\").append(newsavelabel);\r\n\t\t\t\t  //$(\".saveover\").show();\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t\t\t\t\t\r\n\r\n           });\r\n           \r\n        }\r\n\t\t\r\n\t\t//fabric selector\r\n\t\t $(\".fabrics select\").bind(\"change\",function(){\r\n\t\t \r\n\t\t\t\t\t\t$(\".fabrics option\").each(function () {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t$(this).removeAttr('selected');\r\n\t\t\t\t\t\t});\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar splitFabs = $(this).find(\":selected\").text().split(\"-\");\r\n\t\t\t\t\t\tif (splitFabs.length > 1) {\r\n\t\t\t\t\t\t\tvar str = splitFabs[0].toLowerCase().trim();\r\n\t\t\t\t\t\t\tvar res = str.replace(\" \", \"_\");\r\n\t\t\t\t\t\t\tvar res1 = res .replace(\" \", \"_\");\r\n\t\t\t\t\t\t\tvar res2 = res1 .replace(\"'\", \"\");\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar str = $(this).find(\":selected\").text().toLowerCase();\r\n\t\t\t\t\t\tvar res = str.replace(\" \", \"_\");\r\n\t\t\t\t\t\tvar res1 = res .replace(\" \", \"_\");\r\n\t\t\t\t\t\tvar res2 = res1 .replace(\"'\", \"\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$('.productView-img-container img').on('load', function () {\r\n\t\t\t\t\r\n\t\t\t\t\t\t\tvar newimg = \"<img class='test-fab-img' style='height:100%;z-index:4;' src='https://cdn11.bigcommerce.com/s-n1keky2ro6/content/products/\" + res2 + \".jpg' onerror='imgError(this);' />\";\r\n\t\t\t\t\t\t\t$(\".test-fab-img\").remove();\r\n\t\t\t\t\t\t\t$(\".productView-image\").append(newimg);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t$(\".test-fab-img\").on(\"error\", function() {\r\n\t\t\t\t\t\t\t\t$(this).hide();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n        solidColor = $(\".solidcolor\").length;\r\n\t\t\t\t\t $(\".solidcolor select\").bind(\"change\",function(){\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tvar thumb = $(this).find(\":selected\").text().toLowerCase();\r\n\t\t\t\t\t\t\tvar nail = thumb.replace(\" \", \"_\");\r\n\t\t\t\t\t\t\tvar nail1 = nail .replace(\" \", \"_\");\r\n\t\t\t\t\t\t\tvar nail2 = nail1 .replace(\"'\", \"\");\r\n\t\t\t\t\t\t\t$( \".productView-thumbnail img[src*='\"+ nail2 + \"']\").trigger( \"click\" )\r\n\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t//when slat color available\t\t\r\n\t\t $(\".slats.color select\").bind(\"change\",function(){\r\n\t\t \r\n\t\t\t\t\t\tif ($(\".framecolor select\").find(\":selected\").text() == \"View Options\"){\r\n\t\t\t\t\t\tvar thumb = $(this).find(\":selected\").text().toLowerCase();\r\n\t\t\t\t\t\tvar nail = thumb.replace(\" \", \"_\");\r\n\t\t\t\t\t\tvar nail1 = nail .replace(\" \", \"_\");\r\n\t\t\t\t\t\tvar nail2 = nail1 .replace(\"'\", \"\");\r\n\t\t\t\t\t\t$( \".productView-thumbnail img[src*='\"+ nail2 + \"']\").trigger( \"click\" )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\tvar color1 =  $(\".framecolor select\").find(\":selected\").text();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ($(\".framecolor select\").find(\":selected\").text() != \"View Options\"){\r\n\t\t\t\t\t\t$(\".form-field.framecolor\").append(frameClone.addClass(\"frameclone\"));\r\n\t\t\t\t\t\t$(\".frameclone\").show();\r\n\t\t\t\t\t\t$(\".frameclone\").removeClass(\"framecolor\");\r\n\t\t\t\t\t\t$(\".frameclone\").removeAttr('id');\r\n\t\t\t\t\t\t$(\".frameclone\").removeAttr('name');\r\n\t\t\t\t\t\t$(\".frameclone option\").each(function () {\r\n\t\t\t\t\t\t\t\t\t\tif ($(this).html() == $(\".framecolor select\").find(\":selected\").text()) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t$(this).attr(\"selected\", \"selected\");\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\t\t\r\n\t\t\t\t\t\t\t\t\t});\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$(\".form-select--small.framecolor\").hide();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ($(\".slats.color select\").find(\":selected\").text() != color1 )\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvar oldimgsrc = $('.productView-img-container img').attr('src');\r\n\t\t\t\t\t\t\t\t$(\".framecolor .framecolor option\").each(function () {\r\n\t\t\t\t\t\t\t\t\tif ($(this).html() == $(\".slats.color select\").find(\":selected\").text()) {\r\n\t\t\t\t\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t$('.productView-img-container img').on('load', function () {\r\n\t\t\t\t\t\t\t\t\tvar newimg = \"<img class='test-fab-img' style='padding:0' src='\" + $('.productView-img-container a').attr('href') + \"' />\";\r\n\t\t\t\t\t\t\t\t\t$(\".test-fab-img\").remove();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t$(\".framecolor option\").each(function () {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t$(this).removeAttr('selected');\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t$(\".productView-image\").append(newimg);\r\n\t\t\t\t\t\t\t\t\t$(\".framecolor option\").each(function () {\r\n\t\t\t\t\t\t\t\t\t\tif ($(this).html() == color1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\t\t\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t$(\".frameclone\").remove();\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t$(\".form-select--small.framecolor\").show();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//when image thumbnail click\r\n\t\t\t$('.productView-thumbnails img').click(function(){\r\n\t\t\t\t\t\t\t\t\t\t$('.productView-img-container img').on('load', function () {\r\n\t\t\t\t$(\".test-fab-img\").remove();\r\n\t\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\r\n        // Cushion Fabric Selector\r\n        if($(this).contents().find('.form-field .form-label:contains(\"Fabrics\")').length > 0){\r\n            _cushionFabrics = $(this).contents().find('.form-field .form-label:contains(\"Fabrics\")')\r\n            _defaultFabric = _dataFabric = _cushionFabrics.parent('.form-field').find('.form-option.form-option-swatch:eq(0) span').attr('title');\r\n            _cushionFabrics.parent('.form-field').find('select').bind(\"change\",function(){\r\n\t\t\t\t\r\n\r\n            });\r\n\t\t\t\r\n\t\t// Cushion Option Selector\r\n\t\t\tif($(this).contents().find('.form-field .form-label:contains(\"Cushion\")').length > 0){\r\n\t\t\t\r\n\t\t\t\t\t_cushionFabrics.parent('.form-field').hide();  \r\n\t\t\t\t\t_cushionOption = $(this).contents().find('.form-field.cushion .form-label:contains(\"Cushion\")');\r\n\t\t\t\t\t_cushionOption.parent('.form-field').find('select').bind(\"change\",function(){ \r\n\t\t\t\t\tframeClone = $(\".framecolor .framecolor\").clone();\r\n\t\t\t\t\t\tif( $(this).find(\":selected\").text() == \"Yes\" ){ \r\n\t\t\t\t\t\t\t_cushionFabrics.parent('.form-field').find('.form-option.form-option-swatch').hide();\r\n\t\t\t\t\t\t\t_cushionFabrics.parent('.form-field').find('.form-option.form-option-swatch span.form-option-variant').each(function(index){\r\n\t\t\t\t\t\t\t\tif(incaseInArray( $(this).attr('title'), _cushionData[\"Yes\"] ) == false){\r\n\t\t\t\t\t\t\t\t\t$(this).parent('.form-option.form-option-swatch').show();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t$(\".fabrics option\").each(function () {\r\n\t\t\t\t\t\t\t\t\t$(this).removeAttr('selected');\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t$(\".fabrics option\").each(function () {\r\n\t\t\t\t\t\t\tif ($(this).html().toLowerCase() == \"view options\") {\r\n\t\t\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar color1 =  $(\".framecolor select\").find(\":selected\").text();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$(\".form-field.framecolor\").append(frameClone.addClass(\"frameclone\"));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$(\".frameclone\").show();\r\n\t\t\t\t\t\t$(\".frameclone\").removeClass(\"framecolor\");\r\n\t\t\t\t\t\t$(\".frameclone\").removeAttr('id');\r\n\t\t\t\t\t\t$(\".frameclone\").removeAttr('name');\r\n\t\t\t\t\t\t$(\".frameclone option\").each(function () {\r\n\t\t\t\t\t\t\t\t\t\tif ($(this).html() == color1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\t\t\r\n\t\t\t\t\t\t\t\t\t});\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$(\".form-select--small.framecolor\").hide();\r\n\t\t\t\t\t\tif ($(\".slats.color select\").find(\":selected\").text() == color1 )\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvar oldimgsrc = $('.productView-img-container img').attr('src');\r\n\t\t\t\t\t\t\t\t$(\".framecolor .framecolor option\").each(function () {\r\n\t\t\t\t\t\t\t\t\tif ($(this).html() == $(\".slats.color select\").find(\":selected\").text()) {\r\n\t\t\t\t\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t$('.productView-img-container img').on('load', function () {\r\n\t\t\t\t\t\t\t\t\tvar newimg = \"<img class='test-fab-img' style='padding:0' src='\" + $('.productView-img-container a').attr('href') + \"' />\";\r\n\t\t\t\t\t\t\t\t\t$(\".test-fab-img\").remove();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t$(\".framecolor option\").each(function () {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t$(this).removeAttr('selected');\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t$(\".productView-image\").append(newimg);\r\n\t\t\t\t\t\t\t\t\t$(\".framecolor option\").each(function () {\r\n\t\t\t\t\t\t\t\t\t\tif ($(this).html() == color1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\t\t\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t$(\".frameclone\").remove();\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t$(\".form-select--small.framecolor\").show();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t_cushionFabrics.parent('.form-field').slideDown();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\telse if( $(this).find(\":selected\").text() == \"Yes - 2 Seat Cushion\" ) {\r\n\t\t\t\t\t\t\t_cushionFabrics.parent('.form-field').find('.form-option.form-option-swatch').hide();\r\n\t\t\t\t\t\t\t_cushionFabrics.parent('.form-field').find('.form-option.form-option-swatch span.form-option-variant').each(function(index){\r\n\t\t\t\t\t\t\t\tif(incaseInArray( $(this).attr('title'), _cushionData[\"Yes\"] ) == false){\r\n\t\t\t\t\t\t\t\t\t$(this).parent('.form-option.form-option-swatch').show();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t_cushionFabrics.parent('.form-field').slideDown();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t_cushionFabrics.parent('.form-field').find('.form-option.form-option-swatch').hide();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t$(\".custom-desc\").css(\"margin-top\",0);\r\n\t\t\t\t\t\t$(\".test-fab-img\").hide();\r\n\t\t\t\t\t\t$(\".fabriclabel\").hide();\r\n\t\t\t\t\t\t\t_cushionFabrics.parent('.form-field').hide();\r\n\t\t\t\t\t\t\t$(\".fabrics option\").each(function () {\r\n\t\t\t\t\t\t\tif ($(this).html().toLowerCase() == \"none\") {\r\n\t\t\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar color1 =  $(\".framecolor select\").find(\":selected\").text();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$(\".form-field.framecolor\").append(frameClone.addClass(\"frameclone\"));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$(\".frameclone\").show();\r\n\t\t\t\t\t\t$(\".frameclone\").removeClass(\"framecolor\");\r\n\t\t\t\t\t\t$(\".frameclone\").removeAttr('id');\r\n\t\t\t\t\t\t$(\".frameclone\").removeAttr('name');\r\n\t\t\t\t\t\t$(\".frameclone option\").each(function () {\r\n\t\t\t\t\t\t\t\t\t\tif ($(this).html() == color1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\t\t\r\n\t\t\t\t\t\t\t\t\t});\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$(\".form-select--small.framecolor\").hide();\r\n\t\t\t\t\t\tif ($(\".slats.color select\").find(\":selected\").text() == color1 )\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvar oldimgsrc = $('.productView-img-container img').attr('src');\r\n\t\t\t\t\t\t\t\t$(\".framecolor .framecolor option\").each(function () {\r\n\t\t\t\t\t\t\t\t\tif ($(this).html() == $(\".slats.color select\").find(\":selected\").text()) {\r\n\t\t\t\t\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t$('.productView-img-container img').on('load', function () {\r\n\t\t\t\t\t\t\t\t\tvar newimg = \"<img class='test-fab-img' style='padding:0' src='\" + $('.productView-img-container a').attr('href') + \"' />\";\r\n\t\t\t\t\t\t\t\t\t$(\".test-fab-img\").remove();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t$(\".framecolor option\").each(function () {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t$(this).removeAttr('selected');\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t$(\".framecolor option\").each(function () {\r\n\t\t\t\t\t\t\t\t\t\tif ($(this).html() == color1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\t\t\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t$(\".frameclone\").remove();\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t$(\".form-select--small.framecolor\").show();\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tif ($('.solidcolor').length > 0){\r\n\t\t\t\t\t\t\t\t\t\t\t$('.productView-img-container img').on('load', function () {\r\n\t\t\t\t\t\t\t\t\t$(\".test-fab-img\").remove();\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t}\r\n        }\r\n\t\t\r\n\t\t\r\n\t\t//Products with two tone options\r\n\t\tvar colorPattern = \"\";\r\n\t\tvar solidColor = \"\";\r\n\t\tvar frameColor = \"\";\r\n\t\tvar slatsColor = \"\";\r\n\t\tvar text1 = 'White';\r\n\t\t if($(this).contents().find('.form-field .form-label:contains(\"Color Pattern\")').length > 0){\r\n\t\t \r\n\t\t solidColor = $(this).contents().find('.form-field .form-label:contains(\"Solid Color\")');\r\n\t\t frameColor = $(this).contents().find('.form-field .form-label:contains(\"Frame Color\")');\r\n\t\t slatsColor = $(this).contents().find('.form-field .form-label:contains(\"Table Top Color\")');\r\n\t\t solidColor.parent('.form-field').hide(); \r\n\t\t frameColor.parent('.form-field').hide();  \r\n\t\t slatsColor.parent('.form-field').hide();  \r\n\t\t colorPattern  = $(this).contents().find('.form-field .form-label:contains(\"Color Pattern\")');\r\n\t\t colorPattern.parent('.form-field').find('select').bind(\"change\",function(){  \r\n\t\t\tif( $(this).find(\":selected\").text() == \"Solid Color\" ){\r\n\t\t\t\tsolidColor.parent('.form-field').slideDown();\r\n\t\t\t\tframeColor.parent('.form-field').hide();  \r\n\t\t\t\tslatsColor.parent('.form-field').hide();  \r\n\t\t\t\t\r\n\t\t\t\t$(\".framecolor option\").each(function () {\r\n\t\t\t\t\tif ($(this).html().toLowerCase() == \"none\") {\r\n\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t$(\".tabletopcolor option\").each(function () {\r\n\t\t\t\t\tif ($(this).html().toLowerCase() == \"none\") {\r\n\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\t$(\".solidcolor option\").each(function () {\r\n\t\t\t\t\tif ($(this).html().toLowerCase() == \"none\") {\r\n\t\t\t\t\t\t$(this).removeAttr('selected');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\t$(\".solidcolor option\").each(function () {\r\n\t\t\t\t\tif ($(this).html().toLowerCase() == \"view options\") {\r\n\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse if($(this).find(\":selected\").text() == \"Two Tone\" )\r\n\t\t\t{\r\n\t\t\t\tframeColor.parent('.form-field').slideDown();\r\n\t\t\t\tslatsColor.parent('.form-field').slideDown();\r\n\t\t\t\tsolidColor.parent('.form-field').hide();\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t\t$(\".solidcolor option\").each(function () {\r\n\t\t\t\t\tif ($(this).html().toLowerCase() == \"none\") {\r\n\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\t$(\".framecolor option\").each(function () {\r\n\t\t\t\t\tif ($(this).html().toLowerCase() == \"none\") {\r\n\t\t\t\t\t\t$(this).removeAttr('selected');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t$(\".tabletopcolor option\").each(function () {\r\n\t\t\t\t\tif ($(this).html().toLowerCase() == \"none\") {\r\n\t\t\t\t\t\t$(this).removeAttr('selected');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\t\t$(\".framecolor option\").each(function () {\r\n\t\t\t\t\tif ($(this).html().toLowerCase() == \"view options\") {\r\n\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t$(\".tabletopcolor option\").each(function () {\r\n\t\t\t\t\tif ($(this).html().toLowerCase() == \"view options\") {\r\n\t\t\t\t\t\t$(this).prop('selected', true);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\r\n\t\t solidColor.parent('.form-field').hide();  \r\n\t\t frameColor.parent('.form-field').hide();  \r\n\t\t slatsColor.parent('.form-field').hide();\r\n\t\t \r\n\t\t }\r\n\t\t });\r\n\t\t \r\n\t\t \r\n\t\t \r\n\t\t \r\n\t\t \r\n\t\t }\r\n\t\t \r\n\t\t \r\n\r\n\t\t \r\n\t\t \r\n\t\t \r\n\t\t \r\n\t\t \r\n\t\t \r\n\t\t//hiding All None Option\r\n\t\t$(\"select option\").each(function () {\r\n\t\t\t\t\tif ($(this).html() == \"None\") {\r\n\t\t\t\t\t\t$(this).hide();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\r\n\t\t$(\"select option\").each(function () {\r\n\t\t\t\t\tif ($(this).html() == \"none\") {\r\n\t\t\t\t\t\t$(this).hide();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\r\n\t\tif($(\".productView-options-inner .form-field\").length < 2){\r\n\t\t\t$(\".form-field select option\").each(function () {\r\n\t\t\t\t\tif ($(this).html() == \"None\") {\r\n\t\t\t\t\t\t$(this).hide();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t\t//Hiding Specs tab without any value\r\n\t\tif($(\"#tab-additional table tr\").length < 1){\r\n\t\t\t\t\t\t$(\"#tab-additional\").hide();\r\n\t\t\t\t\t\t $(this).contents().find('span:contains(\"Specifications\")').hide();\r\n\t\t}\r\n\t\t\r\n\t\tvar specheight = Math.abs($(\".specs-height\").text()) +  '\"';\r\n\t\t\r\n\t\tvar specWidth = Math.abs($(\".specs-width\").text()) +  '\"';\r\n\t\t\r\n\t\tvar specDepth = Math.abs($(\".specs-depth\").text()) +  '\"';\r\n\t\t $(\".specs-height\").text(specheight);\r\n\t\t $(\".specs-width\").text(specWidth);\r\n\t\t $(\".specs-depth\").text(specDepth);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n        $(\".lazyautosizes\").click(function() {\r\n\t\t\t\r\n\t\t\t\t\t\t$(\".test-fab-img\").hide();\r\n\t\t});\r\n\t\t\t\t\r\n\t\t\t$(\".form-option-variant\").click(function() {\r\n\t\t\t\r\n\t\t\t\t\t\t\t $(\".productView-product\").scrollTop(580);\r\n\t\t\t\r\n\t\t\t});\r\n\t\t$(\".tab-desc\").click(function() {\r\n\t\t\t$('html, body').animate({\r\n\t\t\t\tscrollTop: $(\"#tab-desc\").offset().top - ($(\".header\").height() + $(\"#menu\").height() + $(\".custom-tab\").height() + 20 ) }, 1000)\r\n\t\t});\r\n\t\t$(\".tab-additional\").click(function() {\r\n\t\t\t$('html, body').animate({\r\n\t\t\t\tscrollTop: $(\"#tab-additional\").offset().top - ($(\".header\").height() + $(\"#menu\").height() + $(\".custom-tab\").height() + 20) }, 1000)\r\n\t\t\t \r\n\t\t});\r\n\t\t$(\".tab-reviews\").click(function() {\r\n\t\t\t$('html, body').animate({\r\n\t\t\t\tscrollTop: $(\"#tab-reviews\").offset().top - ($(\".header\").height() + $(\"#menu\").height() + $(\".custom-tab\").height() + 20) }, 1000)\r\n\t\t});\r\n\t\t$(\".tab-info-merchant\").click(function() {\r\n\t\t\t$('html, body').animate({\r\n\t\t\t\tscrollTop: $(\"#tab-info-merchant\").offset().top - ($(\".header\").height() + $(\"#menu\").height() + $(\".custom-tab\").height() + 20) }, 1000)\r\n\t\t});\r\n\t\t$(\".tab-info-wnm\").click(function() {\r\n\t\t\t$('html, body').animate({\r\n\t\t\t\tscrollTop: $(\"#tab-info-wnm\").offset().top - ($(\".header\").height() + $(\"#menu\").height() + $(\".custom-tab\").height() + 20) }, 1000)\r\n\t\t});\r\n\t\t$(\".tab-info-finishes\").click(function() {\r\n\t\t\t$('html, body').animate({\r\n\t\t\t\tscrollTop: $(\"#tab-info-finishes\").offset().top - ($(\".header\").height() + $(\"#menu\").height() + $(\".custom-tab\").height() + 20) }, 1000)\r\n\t\t});\r\n\t\t\t$('h2:contains(\"Short Description\")').hide();\r\n\t\t\t$('h2:contains(\"Description\")').hide();\r\n\t\t\t\r\n\t\t\t\r\n\t\t var addcost = 0;\r\n\t\t var defsave = Math.abs($(\".productView-price .save-label .price--saving\").text().replace(\"$\",\"\")) ;\r\n\t\t var defprice = Math.abs($(\"#defprice\").text().replace(\"$\",\"\"));\r\n\t\t var newprice = \"\";\r\n\t\t var newsavelabel= \"\";\r\n\t\t var splitoption=\"\";\r\n\t\t $(\".benchsize select\").bind(\"change\",function(){\r\n\t\t\t//$(\".saveover\").empty();\r\n\t\t\t//$(\".saveover\").hide();\r\n\t\t\tsplitoption = $(this).find(\":selected\").text().split(\"+\");\r\n\t\t\tif ( $(\".framecolor select\").prop('selectedIndex') < 1 ) {\r\n\t\t\tif (splitoption.length > 1) {\r\n\t\t\t\taddcost = Math.abs(splitoption[1].replace(\"$\",\"\"));\r\n\t\t\t\tnewprice = \"$\" + (defprice + addcost ) + \".00\";\r\n\t\t\t\tnewsavelabel = \"$\" + (defsave - addcost ) + \".00\";\r\n\t\t\t\tsetTimeout(\r\n\t\t\t\t  function() \r\n\t\t\t\t  {\r\n\t\t\t\t$(\".productView-price .save-label .price--saving\").text(newsavelabel);\t\r\n\t\t\t\t$(\"#defprice\").text(newprice);\r\n\t\t\t\t\r\n\t\t\t\t}, 2000);\r\n\t\t\t\t//$(\".saveover\").append(newsavelabel);\r\n\t\t\t\t  //$(\".saveover\").show();\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t });\r\n\r\n    }); \r\n\t\r\n\t\r\n\r\n</script>\r\n\r\n<!-- Option Tweak -->\r\n"}
